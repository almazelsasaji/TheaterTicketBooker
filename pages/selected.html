<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seat Selection - Movie Booking</title>
    <link rel="stylesheet" href="../assets/css/selected.css">
</head>
<body>
    <div class="container">
        <!-- Left Side - Movie Poster -->
        <div class="poster-section">
            <div class="movie-poster">
                <img src="../assets/img/download (1).jpeg" alt="FALIMY Movie Poster" class="poster-image">
                <div class="poster-overlay">
                    <div class="production-logos">
                        <div class="logo-left">SOOPER DOOPER FILMS</div>
                        <div class="logo-right">CHEERS ENTERTAINMENTS PRESENTS<br>IN ASSOCIATION WITH<br>SOOPER DOOPER FILMS</div>
                    </div>
                    
                    <div class="movie-title">FALIMY</div>
                    
                    <div class="main-credits">
                        <div class="credit-line">STORY & DIRECTION BY NITHISH SAHADEV</div>
                        <div class="credit-line">PRODUCED BY LAKSHMI WARRIER</div>
                        <div class="credit-line">CO PRODUCERS JOHN P ABRAHAM, RAMSHI AHAMED</div>
                        
                    </div>
                    
                    
                    
                    <div class="bottom-credits">
                        <div class="musical-credit">VISHNU VIJAY MUSICAL</div>
                        <div class="con-logo">CON</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Right Side - Seat Selection -->
        <div class="seat-selection-section">
            <div class="movie-info">
                <h1 class="movie-title-seat">FALIMY</h1>
                <div class="showtime-info">
                    <span class="showtime">2:00 PM</span>
                    <span class="showdate">09-09-2025</span>
                </div>
            </div>

            <div class="seat-grid-container">
                <div class="seat-grid" id="seatGrid">
                    <!-- Seats will be generated by JavaScript -->
                </div>
            </div>

            <div class="seat-legend">
                <div class="legend-item">
                    <div class="legend-color selected"></div>
                    <span>Selected</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color available"></div>
                    <span>Available</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color sold"></div>
                    <span>Sold</span>
                </div>
            </div>

            <div class="booking-summary">
                <div class="selected-seats">
                    <span>Selected Seats: </span>
                    <span id="selectedSeatsList">None</span>
                </div>
                <div class="total-price">
                    <span>Total: ₹<span id="totalPrice">0</span></span>
                </div>
            </div>

            <button class="pay-button" id="payButton">Pay</button>
        </div>
    </div>

    <script>
        // Seat grid configuration
        const ROWS = 6;
        const COLS = 10;
        const SEAT_PRICE = 150;
        
        let selectedSeats = [];
        
        // Generate seat grid
        function generateSeatGrid() {
            const seatGrid = document.getElementById('seatGrid');
            seatGrid.innerHTML = '';
            
            for (let row = 0; row < ROWS; row++) {
                for (let col = 0; col < COLS; col++) {
                    const seat = document.createElement('div');
                    seat.className = 'seat';
                    seat.dataset.row = row;
                    seat.dataset.col = col;
                    seat.dataset.seatId = `${String.fromCharCode(65 + row)}${col + 1}`;
                    
                    // Randomly assign seat status (70% sold, 30% available)
                    const isSold = Math.random() < 0.7;
                    if (isSold) {
                        seat.classList.add('sold');
                    } else {
                        seat.classList.add('available');
                        seat.addEventListener('click', toggleSeat);
                    }
                    
                    seatGrid.appendChild(seat);
                }
            }
        }
        
        // Toggle seat selection
        function toggleSeat(event) {
            const seat = event.target;
            const seatId = seat.dataset.seatId;
            
            if (seat.classList.contains('selected')) {
                seat.classList.remove('selected');
                seat.classList.add('available');
                selectedSeats = selectedSeats.filter(id => id !== seatId);
            } else {
                seat.classList.remove('available');
                seat.classList.add('selected');
                selectedSeats.push(seatId);
            }
            
            updateBookingSummary();
        }
        
        // Update booking summary
        function updateBookingSummary() {
            const selectedSeatsList = document.getElementById('selectedSeatsList');
            const totalPrice = document.getElementById('totalPrice');
            const payButton = document.getElementById('payButton');
            
            if (selectedSeats.length === 0) {
                selectedSeatsList.textContent = 'None';
                totalPrice.textContent = '0';
                payButton.disabled = true;
                payButton.classList.add('disabled');
            } else {
                selectedSeatsList.textContent = selectedSeats.join(', ');
                totalPrice.textContent = selectedSeats.length * SEAT_PRICE;
                payButton.disabled = false;
                payButton.classList.remove('disabled');
            }
        }
        
        // Pay button functionality
        document.getElementById('payButton').addEventListener('click', function() {
            if (selectedSeats.length > 0) {
                alert(`Payment for seats: ${selectedSeats.join(', ')}\nTotal Amount: ₹${selectedSeats.length * SEAT_PRICE}`);
            }
        });
        
        // Initialize seat grid
        generateSeatGrid();
        updateBookingSummary();
    </script>
</body>
</html>
